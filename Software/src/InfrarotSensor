double t0;
double t1;
double t2;
double t;
double v;
double wert;

/*
Diese Funktion berechnet die Geschwindigkeit eines Objektes, welches sich durch die Schranke bewegt. Eingestellt werden muss hierbei die Gegenstandsbreite, welcher sich durch den Sensor bewegt.
*/
void Geschwindigkeitsmessung (int PIN_ECHO, const double s){
    t0 = micros();
    do {
        t1 = micros();
        wert = analogRead(PIN_ECHO);
        if (wert >= 950){
            break;
        } else if ((t1-t0)>1e6){
            t1 = 0;
            break;
        }
        
    } while (true);
    
    do {
        if (t1==0){
            t2 = 0;
            break;
        }
        t2 = micros();
        wert = analogRead(PIN_ECHO);
        if (wert < 950){
            break;
        }
    }while (true);
    
    Serial.println("Messung vorhanden");
    t = t2 - t1;
    v = s* 1e6 / t ;
    Serial.print ("Die Geschwindigkeit betraegt: ");
    Serial.print (v);
    Serial.println (" m/s");
}